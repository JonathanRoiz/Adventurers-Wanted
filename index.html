<html>
  <head>
    <style>
      canvas {background-color: #FFDEAD;}
      canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width=100% height=100% style="border:1px solid #000000"> ></canvas>
    <script language = "javascript">
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");
      canvas.width  = window.innerWidth/1.002;
      canvas.height = window.innerHeight/1.003;
      var width = canvas.width/2;
      var height = canvas.height/2;
      var xPos = width;
      var yPos = height;
      var DPressed = false;
      var APressed = false;
      var SPressed = false;
      var WPressed = false;
      
      document.addEventListener("keydown", keyDownHandler, false);
      document.addEventListener("keyup", keyUpHandler, false);
      
      function keyDownHandler(e) {
        if(e.keyCode == 68) {
        	DPressed = true;
        }
        if(e.keyCode == 65) {
        	APressed = true;
        }
        if(e.keyCode == 83) {
        	SPressed = true;
        }
        if(e.keyCode == 87) {
        	WPressed = true;
        }
      }
      function keyUpHandler(e) {
          if(e.keyCode == 68) {
          	DPressed = false;
          }
          if(e.keyCode == 65) {
          	APressed = false;
          }
          if(e.keyCode == 83) {
          	SPressed = false;
          }
          if(e.keyCode == 87) {
        	WPressed = false;
          }
      }
      function checkCollision(rect1,rect2) {
      	if (rect1[0].x < rect2[0].x + rect2[2].width &&
   		rect1[0].x + rect1[2].width > rect2[0].x &&
   		rect1[1].y < rect2[1].y + rect2[3].height &&
   		rect1[3].height + rect1[1].y > rect2[1].y) {
    		// collision detected!
            if (APressed == true) {
				xPos += 3;
            }
            if (DPressed == true) {
            	xPos -=3;
            }
            if (SPressed == true) {
            	yPos -=3;
            }
            if (WPressed == true) {
            	yPos +=3;
            }
            var character = [
      			{x: xPos},
        		{y: yPos},
      			{width: 50},
      			{height: 50}
      		];
	  	}
      }
		
	  setInterval(function() {
        var character = [
      		{x: xPos},
        	{y: yPos},
      		{width: 50},
      		{height: 50}
      	];
      	var wall = [
      		{x: 0},
        	{y: 0},
      		{width: canvas.width/60},
      		{height: canvas.height}
      	];
        var wall2 = [
      		{x: canvas.width-canvas.width/60},
        	{y: 0},
      		{width: canvas.width/60},
      		{height: canvas.height}
      	];
        var wall3 = [
      		{x: 0},
        	{y: 0},
      		{width: canvas.width},
      		{height: canvas.width/60}
      	];
        var wall4 = [
      		{x: 0},
        	{y: canvas.height-canvas.width/60},
      		{width: canvas.width},
      		{height: canvas.width/60}
      	];
        
      	ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle="#353839";
        ctx.fillRect(character[0].x,character[1].y,character[2].width,character[3].height);
        // Drawing Borders
        ctx.fillRect(wall[0].x,wall[1].y,wall[2].width,wall[3].height);
        ctx.fillRect(wall2[0].x,wall2[1].y,wall2[2].width,wall2[3].height);
        ctx.fillRect(wall3[0].x,wall3[1].y,wall3[2].width,wall3[3].height);
        ctx.fillRect(wall4[0].x,wall4[1].y,wall4[2].width,wall4[3].height);
        // Finished Drawing Borders
        //checkCollision(character,wall);
        //checkCollision(character,wall2);
        //checkCollision(character,wall3);
        //checkCollision(character,wall4);
      },25)
		
      setInterval(function() {
		checkCollision(character,wall);
        checkCollision(character,wall2);
        checkCollision(character,wall3);
        checkCollision(character,wall4);
      	if (DPressed == true) {
        	xPos += 3;
        }
        if (APressed == true) {
        	xPos += -3;
        }
        if (SPressed == true) {
        	yPos += 3;
        }
        if (WPressed == true) {
        	yPos += -3;
        }
      },25)
      
    </script>
  </body>
</html>
